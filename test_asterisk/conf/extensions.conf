; ============================================================
; Asterisk Dialplan for Testing Siedle SIP Forwarding
; ============================================================

; Context for calls FROM the Siedle integration
[siedle-context]

; Extension 100 = ring the softphone
exten => 100,1,NoOp(Siedle calling phone at extension 100)
 same => n,Dial(PJSIP/phone,30,r)
 same => n,Hangup()

; Extension **9 = Rundruf (ring all) - like FritzBox
exten => **9,1,NoOp(Siedle Rundruf - ringing all phones)
 same => n,Dial(PJSIP/phone,30,r)
 same => n,Hangup()

; Catch-all for debugging
exten => _X.,1,NoOp(Unknown extension ${EXTEN} from Siedle)
 same => n,Playback(tt-weasels)
 same => n,Hangup()

; Context for calls FROM the softphone (for testing reverse direction)
[phone-context]

; Extension 200 = call back to Siedle (for future testing)
exten => 200,1,NoOp(Phone calling Siedle)
 same => n,Dial(PJSIP/siedle,30,r)
 same => n,Hangup()

exten => _X.,1,NoOp(Unknown extension ${EXTEN} from phone)
 same => n,Hangup()
